#### Basicロードバランサーのバックエンドプールは単一の可用性セットまたは単一の仮想マシンスケールセット内の仮想マシンである必要があります

#### Standardロードバランサーのバックエンドプールは単一の仮想ネットワーク内の任意の仮想マシンまたは仮想マシン スケールセットである必要があります

#### ログを取得するためにはLog Analytics ワークスペースを構成して、何らかのエージェントをVMにインストールしてログ取得先にLog Analytics ワークスペースを指定することが必要です

#### デバイスをグループに参加させるにはグループ所有者の承認が必要

#### 「動的デバイス」グループに手動でデバイスを追加することはできません

#### リソースロックによってTCPポート8080がブロックすることはできません。リソースロックによって、管理者はサブスクリプション、リソース グループ、またはリソースをロックし、組織の他のユーザーが誤って重要なリソースを削除したり変更したりするのを防止することができます。 

#### Azure Backup でVM全体を復元する際は、OLR (ソース VM がまだ存在する場合) または ALR に復元します

#### Azure Backup でVMのファイルを復元する際は、Azure portalからファイルを参照して回復するためのスクリプトを生成してダウンロードし、そのスクリプトを実行しディスクを任意のPCのドライブにマウントすることでファイルの回復が可能となります=2016同士など互換性があればOK

#### 1 つのプライベート DNS ゾーンは複数の解決仮想ネットワークを持つことができ、仮想ネットワークには複数の解決ゾーンを関連付けることができます

### Azure Blueprints を利用してAzureリソースの構成を定義して標準化を実施しています。作成済みのブループリントファイルをAzureBLOBストレージにコピーする必要があります

= Azure Storage Explorerを使用してストレージ内に保存されたファイルのアップロードやコピーなどの操作を実施できます

### Azure Application Gatewayのパフォーマンスの問題をトラブルシューティングしています。過去6時間の合計リクエスト数と失敗したリクエスト数を比較する必要があります。どのツールを利用すれば要件を満たすことができますか？

= Application Gatewayのメトリクス

### あなたの会社ではオンプレミス環境とAzureの両方を利用したハイブリッドクラウドを利用することになりました。その際に、ユーザーパスワードまたはパスワードのハッシュがAzureに直接保存されないようにすることが必要です

= AD FS はAzure AD または Office 365 とのフェデレーションによって、ユーザーはオンプレミスの資格情報を認証に使用し、クラウド内のあらゆるリソースにアクセスすることができます。この機能を使うことで、ユーザーパスワードやパスワードのハッシュをAzureに保存しないで、Azureリソースにアクセスすることができます。, Azure Active Directory (Azure AD) パススルー認証を使用すると、ユーザーは同じパスワードを使用して、オンプレミスのアプリケーションとクラウド ベースのアプリケーションの両方にサインインできます。

### Azureサポートからのライブマイグレーションを要求することにより、ゾーン冗長ストレージ（ZRS）レプリケーションに変換できるストレージアカウントはどれですか？

= 標準の汎用v2アカウントを利用し、レプリケーションはLRSを利用することが必要です。

#### オンプレミス環境にあるMicrosoft System Center Service ManagerにおいてAzureリソースのアラートを設定するためには、IT Service Management Connector (ITSMC) をデプロイして、Azure をService Managerに接続する必要があります

#### 組織とコラボレーションするユーザーをゲスト ユーザーとしてディレクトリに追加することで、そのユーザーを招待できます。 受諾リンクを含む招待メールを送信するか、共有するアプリへの直接リンクを送信できます。 ゲスト ユーザーは自分の職場、学校、またはソーシャルの ID を使用してサインインできます

### 10台のAzure仮想マシンを Azure Automation State Configurationにオンボートしました。あなたはAzure Automation State Configurationを使用して、仮想マシン構成の継続的な整合性を管理する必要があります。どの操作を順番に実行する必要がありますか。

= DSC構成を作成する->DSC構成をAzure Automation State Configurationにアップロードする->DSC構成をノード構成にコンパイルする->VMにノード構成を適用して、State Configurationを使用した仮想マシンの管理を有効にする->ノードのコンプライアンス対応状態を確認する

#### NICはアタッチ先の仮想ネットワークと同じリージョンにしか作成できない

#### Azure Application Gateway はアプリケーション配信コントローラー (ADC) をサービスとして提供することで、さまざまなレイヤー 7 負荷分散機能を利用できるようにします

#### 内部ロードバランサーはフロントエンドのみでプライベート IP が必要な場合に使用され、仮想ネットワーク内でトラフィックを負荷分散させるために用いられます

#### Azure のリソースで発生する特定のイベントを監視して対応するワークフローはAzure Event GridとAzure Logic Appsを使用して作成できます

#### Azure AD アカウントを使用して Azure portal からファイルをアップロードするためには、ストレージBLOBデータ共同作成者 と、閲覧者 の2つのロールが必要となります

#### 移動先のリソースグループにロックがかかっていなければ、どのリソースグループにでもリソースを移動することができます（移動元のロックもないことが条件）

#### Recovery Services Vaultではバックアップポリシーを指定して、バックアップの設定を行う必要があります

#### Azure File Syncを利用した同期設定の手順は以下の通りです
```
手順1：オンプレミスファイルサーバーにAzure FileSyncエージェントをインストールします。
手順2：オンプレミスファイルサーバーを登録します。
手順3：サーバーエンドポイントを追加します。
手順4：同期グループとクラウドエンドポイントを作成します。
```

#### 読み取りアクセス geo 冗長ストレージ (RA-GRS) を使用することでデータは地理的に離れた場所にある複数のノードに保存され、プライマリロケーションだけでなくセカンダリロケーションからも読み取ることができます

#### テンプレートをデプロイするときは、リソースを格納するリソースグループを指定します

#### 受信先で単一のコンシューマーがメッセージを消費する必要がある場合で他のコンシューマーから重複処理がされないようにするには、キューを利用することが必要です

#### 複数のコンシューマーがメッセージを消費する必要がある場合はトピックを使います

### Azure サブスクリプションの所有者によって定義されたアクショングループによる通知は、主にどのようなツールで動作しますか？

= Azure Monitor、Service Health、Azure Advisor

#### VMは設置された仮想ネットワークを変更することができません

#### cloud-init.txtは最初の起動時にVMをカスタマイズするために使用されるファイルです。パッケージのインストールやファイルの書き込み、またはユーザーとセキュリティの構成に使用されます。cloud-init.txtを作成したら、az vm createコマンドの--custom-data パラメーターを使用してcloud-init 構成ファイルを渡してVMを起動します

#### "Microsoft.Compute/virtualMachines" が指定されているAzureポリシーを付与されていると、そのポリシーが適用されたリソースグループは仮想マシンを新たに作成することができません

### 会社には100個の仮想マシンを含むAzureサブスクリプションがあり、これらの仮想マシンは定期的に作成および削除されます。あなたはどの仮想マシンからも接続されておらず削除可能なディスクを特定する必要があります

= Azure Portalから、ディスクのプロパティを表示する, Azure  Advisorの推奨事項を確認する

### Azure Site Recoveryを使用して、VM1をVNet1に移行する必要があります。次のアクションの中で、どの3つのアクションを順番に実行する必要がありますか？
```
手順1：EC2仮想マシンを構成サーバーとしてデプロイするソースを準備します。
手順2：Azure SiteRecoveryの統合セットアップをインストールします。
手順3：VM1のレプリケーションを有効にします。
```

#### Azure Import/ExportではAzure Blob Storageのみサポート

#### VM1のVMサイズプロパティを変更する処理を行うタスクをRunbookに含めることで、VMをスケールアップする（VMサイズを増やす）ことができます

#### Azure Advisorを利用することで、アイドル状態のリソースと十分に活用されていないリソースを特定することで、Azure全体の支出を最適化および削減するのに役立ちます

#### Azure AD の動的グループを使用して、メンバーシップを自動的に拡大、縮小することができます。

#### 条件付きアクセスポリシーを使用して、ユーザーがAzureリソースにアクセスする前にMFAを有効にする必要があるように設定することができます

#### インターネットでの暗号化された接続を使用してニューヨークオフィスをVNet1に接続するためにはサイト間VPN接続を利用し、Azure Portalからは以下の操作を実行する必要があります
```
・仮想ネットワークの作成
・仮想ネットワークゲートウェイの作成
・ローカルネットワークゲートウェイの作成
```

#### ネットワーク セキュリティ グループ (NSG) のフロー ログはNSG を使用した IP トラフィックに関する情報をログに記録できる Azure Network Watcher の機能で、これを確認することで接続の問題がNSGに関係しているかどうか確認することができます

#### 組み込みロールを元に、新しくカスタムロールを作成するためには、まずGet-AzRoleDefinitionコマンドとConvertTo-Jsonコマンドを使用して閲覧者ロールを JSON 形式で出力する必要があります

### 複数の Azure VM:Recovery Services コンテナーを設定して、複数の Azure VM のバックアップを構成する必要があります。あなたは、コンテナーを作成してからAzure VMのバックアップを有効にして、初回のバックアップを実行するまでの一連の対応をする必要があります。事前に確認すると望ましい事項は

= Azure VM のバックアップ アーキテクチャ, バックアップ拡張機能, サポートマトリックス

### AzureKubernetes Service（AKS)クラスターをデプロイする

= az acr createコマンドを使用

#### Log Analytics はAzure Monitor ログによって収集されたデータからログ クエリを編集して実行し、その結果を対話形式で分析する Azure portal のツールです。ログを収集するには、Log Analytics ワークスペースを構成して、データを収集する先として指定することが必要です

#### ILB1に接続するIPアドレスに関するデータを収集するためには、ロードバランサの診断を設定することが必要です

#### リソースグループは"/subscriptions/[サブスクリプションID]/resourceGroups" の形式で指定します


#### NotActionsプロパティでは、Actionsプロパティで許可されたアクションの中から取り除く (拒否する) アクションを指定します。Actionsプロパティで "*"  (ワイルドカード) が指定されており、全てのアクションが許可されていますが、NotActionsプロパティに"Microsoft.Authorization/*”を指定してロール (役割) に関するアクションを許可されたアクションの中から取り除くことで、リソースグループに対するアクセス許可の管理を抑制することができます

#### 「リソースにタグを追加する」ポリシーはリソースが作成または更新されたときに指定されたタグと値を追加するものであり、既存のリソースについては、Modify 効果と修復タスクを使用しない限りはポリシーを適用することはない

#### リソースグループやサブスクリプションに適用されたタグが、リソースによって継承されることはない

#### summarize dcount(Computer)とすることで、ハートビートを送信した個別のコンピューターの数を合計します

#### render barchart kind=defaultとすることで、棒グラフを表示することができます

#### ロードバランサにバックエンドプールを追加するには Microsoft.Network/loadBalancers/backendAddressPools/join/action の権限が必要なため、Virtual Machine Contributorを割り当てる必要があります

#### ロードバランサにヘルスプローブを追加するには Microsoft.Network/loadBalancers/probes/join/action の権限が必要なため、Virtual Machine Contributorを割り当てる必要があります

#### Basic Load Balancerは単一の可用性セットまたは仮想マシン スケールセット内の仮想マシンに対するロードバランシングをサポートしています

#### Azure BackupはWindows系かLinux系のどちらでのOSタイプでもバックアップを作成することができます。また、シャットダウン中のVMのバックアップもサポートされています

#### 複数のWEBアプリケーションを同じApp Service プランに関連付けることができます

#### 仮想WANと仮想ハブを組み合わせてハブ アンド スポーク アーキテクチャを構成することにより、データセンター間のネットワーク待ち時間を最小限に抑えることができます。仮想ハブはデータセンターごとに作成することが必要となる。

#### VM1からVM2へのパケットの平均ラウンドトリップ時間(RTT)を確認するためには接続モニターを使用してエンドツーエンドの接続監視をすることが必要です

#### kubectl applyコマンドを使ってkubernetesリソースの追加や更新を行うことができます

#### az aks createコマンドにより新たなKubernetesクラスターを作成することができます

#### Azure portal の Azure AD Multi-Factor Authentication 設定多要素認証ページにおいて、信頼できるデバイスが多要素認証をバイパスできるようにする日数を設定することができます

#### Azure Load BalancerをパブリックIP アドレスで使うときは、ロード バランサーとパブリック IP アドレスの SKU が一致していなければなりません。なので、IP3のみが使用可能です

#### ゾーン冗長ストレージ (ZRS) はプライマリ リージョンの 3 つの Azure 可用性ゾーン間でデータを同期的にコピーします。したがって、 リージョン内の単一のデータセンターに障害が発生した場合でも利用可能です。また、複数ゾーンを利用しているためゾーンが使用できなくなった場合でも読み取り操作と書き込み操作の両方にアクセスできます

### Azure DNS を構成して、Web アプリ用にカスタム ドメインをホストする手順

```
カスタムドメイン名を追加する。
Azure DNSゾーンを作成する。
ドメインを確認する。
```

#### カスタムドメインを追加するためにはCNAMEコードまたはAレコードというDNSレコードを作成する必要があります

#### Premium ファイル共有はローカル冗長 (LRS) ストレージとゾーン冗長 (ZRS) ストレージを利用できます。しかしながら、Premium ファイル共有は全ての geo 冗長性がサポートされていません

#### ストレージ アカウントでACL（Access Control List）を利用することで、ファイル共有のアクセス許可をディレクトリおよびファイル レベルできめ細かくアクセスを制御することができます

#### Linux Diagnostic Extension はMicrosoft Azure で実行される Linux VM の正常性を監視するために役立ちます

#### ライフサイクル管理ルールを使用して、ストレージに保存されているデータの保存期間や削除時期を管理することができるのは、汎用 v2とPremiumブロック BLOBのBlob Storageです

#### コンテナーの有効期間後も状態を保持するには外部ボリュームをマウントする必要があります。 外部ボリュームとしてサポートされているのは、Azure Filesで作成された Azureファイル共有のみになります

#### Azureファイアウォールと仮想ネットワークは同じリージョンかつ同じリソースグループに存在する必要がある

#### Recovery Services コンテナーを使用すると、IaaS VM (Linux または Windows) や Azure SQL データベースなどのさまざまな Azure サービスのバックアップ データを保持できます。その際にAzure Backupを構成するのにコンテナーは最低一つ必要となります

#### 自動登録は一度仮想ネットワーク リンクの作成した後でも変更することができます。自動登録を有効にすると、仮想ネットワーク内での仮想マシンの作成または削除、あるいはその IP アドレスの変更を行うたびに、Azure DNS でそのゾーン レコードも更新されます

#### 条件付きアクセスポリシーでは、ユーザーがAzureリソースにアクセスする際に完了する必要があるアクションを指定することができ、これを使うと、グローバル管理者グループのメンバーがAzure ADに接続するときにAzure Multi-Factor Authentication(MFA) を有効にすることができます

#### Azure AD のグローバル管理者であれば、自分のディレクトリにあるすべての Azure サブスクリプションと管理グループに対するアクセス許可を自分に割り当てることができます

#### ロールの詳細を表示するには、特定のロール名でGet-AzRoleDefinitionコマンドを使用します。これによって、すべてのRBACロール定義を一覧表示することができます

### リカバリポイントからファイルまたはフォルダを復元する手順

```
Azureポータルで、[ファイルの回復]をクリック
[回復ポイントの選択] ドロップダウン メニューで、目的のファイルを保持する回復ポイントを選択します。
スクリプトをダウンロードして実行
Azcopyを使用してファイルをコピー
```

#### Azure App Serviceをスケールアップすることで CPU、メモリ、ディスク領域を増やしたり、専用の仮想マシン (VM)、カスタム ドメインと証明書、ステージング スロット、自動スケールのような拡張機能を追加することができます。これによって、カスタムドメインを構成し、App1のバックアップを有効にすることが可能となります

#### Azure Import/Export サービスではAzure データセンターにディスク ドライブを送付することで、Azure Blob Storage と Azure Files に大量のデータを安全にインポートできます。 また、このサービスではAzure Blob Storage からディスク ドライブにデータを転送し、オンプレミスのサイトに送付できます。その際に、1 つまたは複数のディスク ライブのデータを、Azure Blob Storage または Azure Files にインポートできます

#### Recovery Servicesコンテナーを削除するには、バックアップジョブが停止され、バックアップデータを保持していない状態である必要があります

#### azcopy makeコマンドを使うと、指定されたリソースURLで表されるコンテナーまたはファイル共有を作成することができます

#### Azure Files ボリューム プラグインを使用すると、Azure Filesのストレージをホストのファイルシステムのディレクトリとしてマウントし、コンテナで利用できるようにすることができます

#### Azure CLI を使用してリソースグループを削除するには、az group delete コマンドを使用します。--no-wait オプションを設定すると長時間実行される操作を待たないように指定でき、--yes オプションを設定すると確認ダイアログを表示しないように指定することができます

#### [デバイスの設定]ブレードにおいて、[ユーザーはデバイスを Azure AD に参加させることができます] を設定すると、Azure AD 参加済みデバイスとしてデバイスを登録できるユーザーを選択することができます

#### 自動インストルメンテーションを使用すると、コードを変更することなく Application Insights を使用したアプリケーションの監視を有効にすることができます

#### Azure App ServiceではOSごとにApp Serviceプランが必要となります

#### オンプレミスネットワークと仮想マシン間の遅延を監視するにはネットワークパフォーマンスモニターを利用します

### Azure Backupを用いたVMのバックアップを設定するためには、以下の手順で行う必要があります

```
１．Recovery Services コンテナーを作成する
２．バックアップ ポリシーを適用する
３．初回バックアップをトリガーする
```

#### Shared Access Signature (SAS) はAzure Storage リソースへの制限付きアクセス権を付与する URI であり、SASの有効期限を設定することでアクセスキー (SASトークン) を一時的なものにすることができます。これによって、「blue print fileに対してパートナーが行うアクセスがセキュリテイで保護されるようにする。また、アクセスキーを一時的なものにする。」の要件を満たすことができます

#### セキュリティグループはNICを介してVMに関連付けられる仕組みとなっています

#### スケール セットは5 つの障害ドメインと 5 つの更新ドメインを使用する暗黙的な可用性セットとして機能します。10 個の VM をもつスケールセットを作成すると、 5 つの更新ゾーンに均等に自動的に配布します。そのため、1 つの更新ゾーンの計画メンテナンス中に影響を受けるのは 2 つの VM のみとなります
